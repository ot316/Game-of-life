<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Game of Life</title>
    <link rel="stylesheet" href="Styles.css">
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,600,700&display=swap" rel="stylesheet">
    <link rel="icon" href="Media/Misc/Website Icon.png">
    <script src="jquery-3.4.1.min.js"></script>
</head>

<div class="background">
    <div class="banner" ;>
        <div class="banner-content">
            <img class="logo" src="Media/Misc/Website Icon.png" alt="Logo">
            <h1>Oli&nbsp;Thompson</h1>
            <div class="socialmediacontainer">
                <a href="http://www.linkedin.com/in/oli-thompson" target="_blank">
                    <img class="socialmedialogo" alt="Linkedin" src="Media/social_media_logos/Linkedin.svg"></a>
                <a href="https://github.com/ot316" target="_blank">
                    <img class="socialmedialogo" alt="Github" src="Media/social_media_logos/Github.svg"></a>
                <a href="https://www.instagram.com/olithompson_designengineer/" target="_blank">
                    <img class="socialmedialogo" alt="Instagram" src="Media/social_media_logos/Instagram.png"></a>
            </div>
        </div>
    </div>
    <img class="logomobile" src="Media/Misc/Website Icon.png" alt="Logo">
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="index.html">
            <p class="sidenavtext">Projects</p>
        </a>
        <a href="about_me.html">
            <p class="sidenavtext">About&nbsp;Me</p>
        </a>
        <a href="render_gallery.html">
            <p class="sidenavtext">Render&nbsp;Gallery</p>
        </a>
        <a href="digital_art.html">
            <p class="sidenavtext">Digital&nbsp;Art</p>
        </a>
        <div class="socialmediacontainermobile">
            <a href="https://www.instagram.com/olithompson_designengineer/" target="_blank">
                <img class="socialmedialogomobile" alt="Instagram" src="Media/social_media_logos/Instagram.png"></a>
            <a href="https://github.com/ot316" target="_blank">
                <img class="socialmedialogomobile" alt="Github" src="Media/social_media_logos/Github.svg"></a>
            <a href="http://www.linkedin.com/in/oli-thompson" target="_blank">
                <img class="socialmedialogomobile" alt="Linkedin" src="Media/social_media_logos/Linkedin.svg"></a>
        </div>
    </div>
    <span class="sidenavbutton" onclick="openNav()">&#9776;</span>
    <div class="navbarwrapper">
        <div class="navbar">
            <ul>
                <li><a class="active" href="index.html">Projects</a></li>
                <li><a href="about_me.html">About Me</a></li>
                <li><a href="render_gallery.html"> Render Gallery</a></li>
                <li><a href="digital_art.html">Digital Art</a></li>
            </ul>
        </div>
    </div>
    <div id="width" class="wrapper">
        <div>
            <!-- Heading -->
            <h1 style="text-align: center; padding-top: 30px;">Game of life</h1>
            <div class="tagcontainer">
                <h2>Front End Web Development</h2>
                <h2>Javascript</h2>
                <h2>HTML</h2>
                <h2>CSS</h2>
            </div>
            <!-- First Bullet Points -->
            <ul class="headingbullets">
                <li>I built an interactive Javascript implementation of Conway's game of life. </li>
                <li>Click the canvas to restart. </li>
            </ul>
            <canvas onclick="setup()"id="Canvas" class="Canvas"></canvas>
        </div>
    </div>
</div>
<footer class="footer">
    <p>All work Copyright 2019 - Oli Thompson</p>
</footer>

<script>
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }

</script>
<script>


function makearray(col,row) {
var array = Array.from(Array(col), () => new Array(row));
return array;
}

let grid;
let col;
let row ;
let resolution = 3;


function setup() {
  col = ceil(document.getElementById("Canvas").clientWidth / resolution);
  row = ceil(document.getElementById("Canvas").clientHeight / resolution);
  grid = makearray(col, row)
  for (let i = 0; i < col; i++){
    for (let ii = 0; ii< row; ii++){
      grid[i][ii] = floor(random(2));
    }
  }
}

function draw() {
const c = document.getElementById("Canvas");
const ctx = c.getContext("2d");
  for (let i = 0; i < col; i++) {
    for (let ii = 0; ii < row; ii++) {
      let x = i * resolution;
      let y = ii * resolution;
      if (grid[i][ii] == 1) {
        ctx.fillStyle = 'blue';
        ctx.fillRect(x, y, resolution-1, resolution);
        ctx.lineWidth = 0.2;
        ctx.strokeStyle = "darkgrey";
        ctx.strokeRect(x+0.5, y-0.5, resolution-1, resolution);
        ctx.rect(x, y, resolution-1, resolution);
        }
      else {
        ctx.fillStyle = 'whitesmoke';
        ctx.fillRect(x, y, resolution-1, resolution);
        ctx.lineWidth = 0.2;
        ctx.strokeStyle = "darkgrey";
        ctx.strokeRect(x+0.5, y-0.5, resolution-1, resolution);
        ctx.rect(x, y, resolution-1, resolution);
      }
      }
    }

  let next = makearray(col, row);

  for (let i = 0; i < col; i++) {
    for (let ii = 0; ii < row; ii++) {
      let sum = 0;
      let neighbours = countNeighbours(grid, i, ii);
      let state = grid[i][ii];

      if (state == 0 && neighbours == 3){
        next[i][ii] = 1;
      }

      else if (state == 1 && (neighbours < 2 || neighbours > 3)){
        next[i][ii] = 0;
      }
      else {
        next[i][ii] = state;
      }
    }
  }

grid = next;



}

function countNeighbours(grid, x, y) {
  let sum = 0;
  for (let i=-1; i < 2; i++){
    for (let ii =-1; ii < 2; ii++){
      let cols = (x + i + col) % col;
      let rows = (y + ii + row) % row;
      sum += grid[cols][rows];
    }
  }
sum -= grid[x][y];
return sum;
}
</script>
<script src="p5/p5.min.js"></script>

</div>

</html>
